syntax = "proto3";

import "google/protobuf/timestamp.proto";

package servers_api;

option go_package = "deimos.servers_api.v1;servers_apiv1";

service ServersService {
  rpc SaveServer(SaveServerRequest) returns (SaveServerResponse) {};
  rpc GetServer(GetServerRequest) returns (GetServerResponse) {};
  rpc GetServersList(GetServersListRequest) returns (GetServersListResponse) {};
}


message SaveServerRequest {
  string ip = 1;
  string port = 2;
  string username = 3;
  string password = 4;
  string private_key = 5;
  string display_name = 6;
}

message SaveServerResponse {
  string id = 1; 
}

message GetServerRequest {
  string id = 1;
}

message GetServerResponse {
  string ip = 1;
  string port = 2;
  string username = 3;
  string password = 4;
  string name = 5;
  google.protobuf.Timestamp created_at = 6;
}

message GetServersListRequest {}

message GetServersListResponse {
  repeated ServerSummary servers = 1;
}

message ServerSummary {
  string id = 1;
  string name = 2;
  string ip = 3;
  google.protobuf.Timestamp created_at = 4;
}
